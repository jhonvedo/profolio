---
import Base from "../../layouts/Base.astro";
import "../../styles/globals.css";
import { getDictionary, isSupportedLang } from "../../shared/i18n";
import LanguageSwitcher from "../../shared/LanguageSwitcher.astro";
export const getStaticPaths = () => [{ params: { lang: "es" } }, { params: { lang: "en" } }];
const langParam = Astro.params.lang;
const lang = isSupportedLang(langParam) ? langParam : "es";
const t = await getDictionary(lang);
---

<Base lang={lang} title={`${t.meta.title}`} description={t.meta.description}>
    <header class="sticky top-0 z-40 border-b border-white/5 bg-slate-900/70 backdrop-blur">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex h-16 items-center justify-between">
                <a href={`/${lang}`} class="flex items-center gap-3">
                    <div class="h-8 w-8 rounded-lg bg-gradient-to-br from-blue-500 to-fuchsia-500"></div>
                    <span class="text-sm font-semibold tracking-wide">JHON ACEVEDO</span>
                </a>
                <nav class="hidden gap-8 text-sm md:flex">
                    <a href={`/${lang}#servicios`} class="hover:text-white/90 text-white/70">{t.nav.services}</a>
                    <a href={`/${lang}#proyectos`} class="hover:text-white/90 text-white/70">{t.nav.cases}</a>
                    <a href={`/${lang}#skills`} class="hover:text-white/90 text-white/70">{t.nav.skills}</a>
                    <a href={`/${lang}#experiencia`} class="hover:text-white/90 text-white/70">{t.nav.experience}</a>
                    <a href={`/${lang}#testimonios`} class="hover:text-white/90 text-white/70">{t.nav.testimonials}</a>
                    <a href={`/${lang}#contacto`} class="hover:text-white/90 text-white/70">{t.nav.contact}</a>
                </nav>
                <div class="flex items-center gap-3">
                    <a href={`/${lang}#contacto`} class="hidden md:inline-flex rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-sm font-semibold shadow-lg shadow-blue-600/20"
                        >{t.cta.talk}</a
                    >
                    <LanguageSwitcher lang={lang} />
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="relative overflow-hidden">
            <div class="mx-auto grid max-w-7xl grid-cols-1 items-center gap-12 px-4 py-20 sm:px-6 lg:grid-cols-2 lg:py-28 lg:px-8">
                <div>
                    <div class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">
                        <span class="h-2 w-2 rounded-full bg-green-400"></span>
                        {t.hero.badge}
                    </div>
                    <h1 class="mt-6 text-4xl font-extrabold tracking-tight sm:text-5xl">
                        {t.hero.title}
                        <span class="block bg-gradient-to-r from-blue-400 to-fuchsia-400 bg-clip-text text-transparent">{t.hero.stack}</span>
                    </h1>
                    <p class="mt-5 max-w-xl text-white/80">{t.hero.subtitle}</p>
                    <div class="mt-8 flex flex-wrap gap-3">
                        <a href={`/${lang}#contacto`} class="rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-5 py-3 text-sm font-semibold shadow-lg shadow-blue-600/20">{t.cta.book}</a>
                        <a href={`/${lang}#proyectos`} class="rounded-xl border border-white/10 px-5 py-3 text-sm font-semibold text-white/90">{t.cta.cases}</a>
                    </div>
                    <div class="mt-10 grid grid-cols-3 gap-6 text-center text-white/80">
                        <div class="glass rounded-2xl p-4"><div class="text-2xl font-extrabold">10+ {t.hero.years}</div><div class="text-xs">{t.hero.exp}</div></div>
                        <div class="glass rounded-2xl p-4"><div class="text-2xl font-extrabold">20+</div><div class="text-xs">{t.hero.projects}</div></div>
                        <div class="glass rounded-2xl p-4"><div class="text-2xl font-extrabold">99.9%</div><div class="text-xs">{t.hero.uptime}</div></div>
                    </div>
                </div>
                <div class="relative">
                    <div class="absolute -inset-6 -z-10 rounded-3xl bg-gradient-to-br from-blue-500/20 to-fuchsia-500/20 blur-2xl"></div>
                    <div class="glass rounded-3xl p-6 ring-1 ring-white/10">
                        <img src="/img/profile.avif" alt="Profile" class="aspect-[4/3] w-full rounded-2xl object-cover" />
                        <div class="mt-6 grid grid-cols-3 gap-3 text-xs text-white/80">
                            <div class="rounded-lg border border-white/10 bg-white/5 px-3 py-2">Azure DevOps</div>
                            <div class="rounded-lg border border-white/10 bg-white/5 px-3 py-2">Clean Architecture</div>
                            <div class="rounded-lg border border-white/10 bg-white/5 px-3 py-2">DDD</div>
                            <div class="rounded-lg border border-white/10 bg-white/5 px-3 py-2">K8s</div>
                            <div class="rounded-lg border border-white/10 bg-white/5 px-3 py-2">Terraform</div>
                            <div class="rounded-lg border border-white/10 bg-white/5 px-3 py-2">Observability</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="servicios" class="border-t border-white/5 py-20">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <h2 class="text-center text-3xl font-bold">{t.services.title}</h2>
                <p class="mx-auto mt-3 max-w-2xl text-center text-white/70">{t.services.subtitle}</p>
                <div class="mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
                    <div class="glass rounded-3xl p-6 ring-1 ring-white/10">
                        <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-500"></div>
                        <h3 class="mt-4 text-lg font-semibold">{t.services.cards.arch.title}</h3>
                        <p class="mt-2 text-sm text-white/75">{t.services.cards.arch.text}</p>
                        <ul class="mt-4 space-y-1 text-sm text-white/70"><li>{t.services.cards.arch.b1}</li><li>{t.services.cards.arch.b2}</li><li>{t.services.cards.arch.b3}</li></ul>
                    </div>
                    <div class="glass rounded-3xl p-6 ring-1 ring-white/10">
                        <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-fuchsia-500 to-pink-500"></div>
                        <h3 class="mt-4 text-lg font-semibold">{t.services.cards.mod.title}</h3>
                        <p class="mt-2 text-sm text-white/75">{t.services.cards.mod.text}</p>
                        <ul class="mt-4 space-y-1 text-sm text-white/70"><li>{t.services.cards.mod.b1}</li><li>{t.services.cards.mod.b2}</li><li>{t.services.cards.mod.b3}</li></ul>
                    </div>
                    <div class="glass rounded-3xl p-6 ring-1 ring-white/10">
                        <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500"></div>
                        <h3 class="mt-4 text-lg font-semibold">{t.services.cards.audit.title}</h3>
                        <p class="mt-2 text-sm text-white/75">{t.services.cards.audit.text}</p>
                        <ul class="mt-4 space-y-1 text-sm text-white/70"><li>{t.services.cards.audit.b1}</li><li>{t.services.cards.audit.b2}</li><li>{t.services.cards.audit.b3}</li></ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="proyectos" class="border-t border-white/5 py-20">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <div class="flex items-end justify-between gap-6">
                    <div>
                        <h2 class="text-3xl font-bold">{t.cases.title}</h2>
                        <p class="mt-3 max-w-2xl text-white/70">{t.cases.subtitle}</p>
                    </div>
                    <a href={`/${lang}#contacto`} class="hidden rounded-xl border border-white/10 px-4 py-2 text-sm font-semibold md:inline-flex">{t.cases.cta}</a>
                </div>
                <div class="mt-10 grid gap-6 lg:grid-cols-3">
                    <article class="group rounded-3xl border border-white/10 bg-white/5 p-4 ring-1 ring-white/10">
                        <img class="aspect-[16/10] w-full rounded-2xl object-cover" src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=1400&auto=format&fit=crop" alt="Case 1" />
                        <div class="p-4">
                            <h3 class="text-lg font-semibold">{t.cases.card1.title}</h3>
                            <p class="mt-1 text-sm text-white/75">{t.cases.card1.text}</p>
                            <ul class="mt-3 flex flex-wrap gap-2 text-xs text-white/70">
                                <li class="rounded-md border border-white/10 px-2 py-1">Azure Functions</li>
                                <li class="rounded-md border border-white/10 px-2 py-1">SQL Server</li>
                                <li class="rounded-md border border-white/10 px-2 py-1">iText</li>
                            </ul>
                            <div class="mt-4 text-xs text-white/60">{t.cases.card1.impact}</div>
                        </div>
                    </article>
                    <article class="group rounded-3xl border border-white/10 bg-white/5 p-4 ring-1 ring-white/10">
                        <img class="aspect-[16/10] w-full rounded-2xl object-cover" src="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?q=80&w=1400&auto=format&fit=crop" alt="Case 2" />
                        <div class="p-4">
                            <h3 class="text-lg font-semibold">{t.cases.card2.title}</h3>
                            <p class="mt-1 text-sm text-white/75">{t.cases.card2.text}</p>
                            <ul class="mt-3 flex flex-wrap gap-2 text-xs text-white/70">
                                <li class="rounded-md border border-white/10 px-2 py-1">Astro</li>
                                <li class="rounded-md border border-white/10 px-2 py-1">Front Door/CDN</li>
                                <li class="rounded-md border border-white/10 px-2 py-1">Auth0</li>
                            </ul>
                            <div class="mt-4 text-xs text-white/60">{t.cases.card2.impact}</div>
                        </div>
                    </article>
                    <article class="group rounded-3xl border border-white/10 bg-white/5 p-4 ring-1 ring-white/10">
                        <img class="aspect-[16/10] w-full rounded-2xl object-cover" src="https://images.unsplash.com/photo-1454165205744-3b78555e5572?q=80&w=1400&auto=format&fit=crop" alt="Case 3" />
                        <div class="p-4">
                            <h3 class="text-lg font-semibold">{t.cases.card3.title}</h3>
                            <p class="mt-1 text-sm text-white/75">{t.cases.card3.text}</p>
                            <ul class="mt-3 flex flex-wrap gap-2 text-xs text-white/70">
                                <li class="rounded-md border border-white/10 px-2 py-1">Next.js</li>
                                <li class="rounded-md border border-white/10 px-2 py-1">MongoDB</li>
                                <li class="rounded-md border border-white/10 px-2 py-1">Tailwind</li>
                            </ul>
                            <div class="mt-4 text-xs text-white/60">{t.cases.card3.impact}</div>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <section id="skills" class="border-t border-white/5 py-20">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold">{t.skills.title}</h2>
                <p class="mt-3 max-w-2xl text-white/70">{t.skills.subtitle}</p>
                <div class="mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <h3 class="text-lg font-semibold">{t.skills.cards.backend.title}</h3>
                        <p class="mt-2 text-sm text-white/70">{t.skills.cards.backend.text}</p>
                        <div class="mt-4 flex flex-wrap gap-2 text-xs text-white/70">
                            <span class="rounded-md border border-white/10 px-2 py-1">Express/Fastify</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Azure Functions</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">EF Core/Dapper</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">RabbitMQ</span>
                        </div>
                    </div>
                    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <h3 class="text-lg font-semibold">{t.skills.cards.frontend.title}</h3>
                        <p class="mt-2 text-sm text-white/70">{t.skills.cards.frontend.text}</p>
                        <div class="mt-4 flex flex-wrap gap-2 text-xs text-white/70">
                            <span class="rounded-md border border-white/10 px-2 py-1">Tailwind</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Astro Islands</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">A11y</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Storybook</span>
                        </div>
                    </div>
                    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <h3 class="text-lg font-semibold">{t.skills.cards.devops.title}</h3>
                        <p class="mt-2 text-sm text-white/70">{t.skills.cards.devops.text}</p>
                        <div class="mt-4 flex flex-wrap gap-2 text-xs text-white/70">
                            <span class="rounded-md border border-white/10 px-2 py-1">Azure</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Terraform</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Docker/K8s</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Grafana/Prometheus</span>
                        </div>
                    </div>
                    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <h3 class="text-lg font-semibold">{t.skills.cards.arch.title}</h3>
                        <p class="mt-2 text-sm text-white/70">{t.skills.cards.arch.text}</p>
                        <div class="mt-4 flex flex-wrap gap-2 text-xs text-white/70">
                            <span class="rounded-md border border-white/10 px-2 py-1">Clean/Hexagonal</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">CQRS/ES</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Event-Driven</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">OWASP</span>
                        </div>
                    </div>
                    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <h3 class="text-lg font-semibold">{t.skills.cards.lead.title}</h3>
                        <p class="mt-2 text-sm text-white/70">{t.skills.cards.lead.text}</p>
                        <div class="mt-4 flex flex-wrap gap-2 text-xs text-white/70">
                            <span class="rounded-md border border-white/10 px-2 py-1">1:1s</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Tech Radar</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">OKRs</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Playbooks</span>
                        </div>
                    </div>
                    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <h3 class="text-lg font-semibold">{t.skills.cards.data.title}</h3>
                        <p class="mt-2 text-sm text-white/70">{t.skills.cards.data.text}</p>
                        <div class="mt-4 flex flex-wrap gap-2 text-xs text-white/70">
                            <span class="rounded-md border border-white/10 px-2 py-1">SQL Server</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">MongoDB</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Power BI</span>
                            <span class="rounded-md border border-white/10 px-2 py-1">Delta/Lake</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="experiencia" class="border-t border-white/5 py-20">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold">{t.exp.title}</h2>
                <div class="mt-10 grid gap-6 lg:grid-cols-2">
                    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <div class="flex items-start justify-between">
                            <div><h3 class="text-lg font-semibold">{t.exp.card1.role}</h3><div class="text-sm text-white/70">{t.exp.card1.place}</div></div>
                            <span class="rounded-full bg-emerald-500/20 px-3 py-1 text-xs text-emerald-300">{t.exp.card1.badge}</span>
                        </div>
                        <ul class="mt-4 list-disc space-y-2 pl-5 text-sm text-white/80"><li>{t.exp.card1.b1}</li><li>{t.exp.card1.b2}</li><li>{t.exp.card1.b3}</li></ul>
                    </div>
                    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <div class="flex items-start justify-between">
                            <div><h3 class="text-lg font-semibold">{t.exp.card2.role}</h3><div class="text-sm text-white/70">{t.exp.card2.place}</div></div>
                            <span class="rounded-full bg-blue-500/20 px-3 py-1 text-xs text-blue-300">{t.exp.card2.badge}</span>
                        </div>
                        <ul class="mt-4 list-disc space-y-2 pl-5 text-sm text-white/80"><li>{t.exp.card2.b1}</li><li>{t.exp.card2.b2}</li><li>{t.exp.card2.b3}</li></ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="testimonios" class="border-t border-white/5 py-20">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold">{t.testimonials.title}</h2>
                <div class="mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                    <figure class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <blockquote class="text-white/90">{t.testimonials.f1.q}</blockquote>
                        <figcaption class="mt-4 text-sm text-white/60">{t.testimonials.f1.by}</figcaption>
                    </figure>
                    <figure class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <blockquote class="text-white/90">{t.testimonials.f2.q}</blockquote>
                        <figcaption class="mt-4 text-sm text-white/60">{t.testimonials.f2.by}</figcaption>
                    </figure>
                    <figure class="rounded-3xl border border-white/10 bg-white/5 p-6">
                        <blockquote class="text-white/90">{t.testimonials.f3.q}</blockquote>
                        <figcaption class="mt-4 text-sm text-white/60">{t.testimonials.f3.by}</figcaption>
                    </figure>
                </div>
            </div>
        </section>

        <section class="border-t border-white/5 py-20">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <div class="rounded-3xl bg-gradient-to-r from-blue-600/20 to-fuchsia-600/20 p-8 ring-1 ring-white/10 md:p-12">
                    <div class="flex flex-col items-start gap-6 md:flex-row md:items-center md:justify-between">
                        <div><h3 class="text-2xl font-bold">{t.review.title}</h3><p class="mt-2 text-white/80">{t.review.text}</p></div>
                        <a href={`/${lang}#contacto`} class="rounded-xl bg-white px-5 py-3 text-sm font-semibold text-slate-900">{t.review.cta}</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="contacto" class="border-t border-white/5 py-20">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold">{t.contact.title}</h2>
                <p class="mt-3 max-w-2xl text-white/70">{t.contact.subtitle}</p>

                <div id="form-alert" class="hidden mt-6 rounded-2xl border ring-1 ring-white/10 p-4"></div>

                <div class="mt-6 grid gap-8 lg:grid-cols-2">
                    <form id="contact-form" class="glass rounded-3xl p-6 ring-1 ring-white/10">
                        <div class="grid gap-4 sm:grid-cols-2">
                            <input
                                class="w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder={t.contact.name}
                                name="name"
                                type="text"
                                required
                            />
                            <input
                                class="w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="Email"
                                name="_replyto"
                                type="email"
                                required
                            />
                        </div>
                        <input
                            class="mt-4 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder={t.contact.company}
                            name="company"
                            type="text"
                        />
                        <textarea
                            class="mt-4 h-40 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder={t.contact.desc}
                            name="message"
                            required></textarea>
                        <div class="mt-6 flex items-center justify-between">
                            <label class="flex items-center gap-2 text-xs text-white/70">
                                <input type="checkbox" name="allowContactEmail" class="h-4 w-4 rounded border-white/20 bg-white/10" />
                                {t.contact.optin}
                            </label>
                            <button id="submit-btn" type="submit" class="rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-3 text-sm font-semibold shadow-lg shadow-blue-600/20">
                                {t.contact.send}
                            </button>
                        </div>
                    </form>

                    <div class="grid gap-6">
                        <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                            <div class="text-sm text-white/60">Email</div>
                            <a class="mt-1 block text-lg font-semibold" href="mailto:contacto@jhonacevedo.dev">contacto@jhonacevedo.dev</a>
                        </div>
                        <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                            <div class="text-sm text-white/60">LinkedIn</div>
                            <a class="mt-1 block text-lg font-semibold" href="#">linkedin.com/in/jhonacevedo</a>
                        </div>
                        <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                            <div class="text-sm text-white/60">GitHub</div>
                            <a class="mt-1 block text-lg font-semibold" href="#">github.com/jhonacevedo</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="border-t border-white/5 py-10">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col items-center justify-between gap-6 md:flex-row">
                <p class="text-sm text-white/60">© 2025 Jhon Acevedo</p>
                <div class="flex gap-4 text-sm text-white/60">
                    <a href={`/${lang}`} class="hover:text-white/90">Blog</a>
                    <a href={`/${lang}`} class="hover:text-white/90">{t.footer.privacy}</a>
                    <a href={`/${lang}`} class="hover:text-white/90">{t.footer.terms}</a>
                </div>
            </div>
        </div>
    </footer>

    <script define:vars={{ t }}>
        const form = document.querySelector("#contact-form");
        const alertBox = document.querySelector("#form-alert");
        const submitBtn = document.querySelector("#submit-btn");
        const endpoint = "https://formspree.io/f/xovpedak";

        function showAlert(type, message) {
            alertBox.className = "mt-6 rounded-2xl border ring-1 ring-white/10 p-4";
            if (type === "success") {
                alertBox.classList.add("bg-emerald-500/10", "border-emerald-400/30", "text-emerald-200");
                alertBox.innerHTML = `<div class="flex items-center gap-3">
          <span class="inline-flex h-2 w-2 rounded-full bg-emerald-400"></span>
          <span class="font-semibold">${t.contact.form.success.title}</span>
        </div>
        <p class="mt-1 text-sm">${message}</p>`;
            } else {
                alertBox.classList.add("bg-rose-500/10", "border-rose-400/30", "text-rose-200");
                alertBox.innerHTML = `<div class="flex items-center gap-3">
          <span class="inline-flex h-2 w-2 rounded-full bg-rose-400"></span>
          <span class="font-semibold">${t.contact.form.error.title}</span>
        </div>
        <p class="mt-1 text-sm">${message}</p>`;
            }
            alertBox.classList.remove("hidden");
        }

        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            submitBtn.disabled = true;
            submitBtn.classList.add("opacity-70", "cursor-not-allowed");
            showAlert("success", t.contact.form.sending);

            const data = new FormData(form);
            try {
                const res = await fetch(endpoint, {
                    method: "POST",
                    body: data,
                    headers: { Accept: "application/json" },
                });
                if (res.ok) {
                    form.reset();
                    showAlert("success", t.contact.form.success.message);
                } else {
                    const json = await res.json().catch(() => ({}));
                    const msg = json?.errors?.map((e) => e.message).join(", ") || t.contact.form.error.default;
                    showAlert("error", `❌ ${msg}`);
                }
            } catch {
                showAlert("error", t.contact.form.error.network);
            } finally {
                submitBtn.disabled = false;
                submitBtn.classList.remove("opacity-70", "cursor-not-allowed");
            }
        });
    </script>
</Base>
